-------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  E:\Jorgec\ISEAK mw report 2022\00. Data processing\00. MCVL\log\_AUX. Generate
>  cutoff dates 20230122.log
  log type:  text
 opened on:  22 Jan 2023, 22:19:17

. 
.         
. ********************************************************************************
. * C. Load and prepare the data
. ********************************************************************************
. 
.         clear

.         set obs 24
number of observations (_N) was 0, now 24

.         gen year = 2018 if _n <= 12
(12 missing values generated)

.         replace year = 2019 if _n > 12
(12 real changes made)

. 
.         bys year: gen month = _n

. 
.         sort year month

. 
.         gen days = (mdy(month,1,year) - 1) - mdy(month[_n-1],1,year[_n-1]) + 1
(1 missing value generated)

.         replace days = 31 if year == 2018 & month == 1
(1 real change made)

. 
.         expand days
(706 observations created)

. 
.         bys year month: gen day = _n

. 
.         gen date = mdy(month, day, year)
(14 missing values generated)

.         format date %td

. 
.         gen dow = dow(date)
(14 missing values generated)

. 
.         keep if dow == 2 // Keep only Tuesdays
(627 observations deleted)

. 
.         bys year month: keep if _n == 2 // Keep second of each month
(79 observations deleted)

. 
.         gen t = _n

. 
.         keep t date

. 
.         gen m = 1

. 
.         reshape wide date, i(m) j(t)
(note: j = 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24)

Data                               long   ->   wide
-----------------------------------------------------------------------------
Number of obs.                       24   ->       1
Number of variables                   3   ->      25
j variable (24 values)                t   ->   (dropped)
xij variables:
                                   date   ->   date1 date2 ... date24
-----------------------------------------------------------------------------

.         
.         sort m

.         
.         save "$dta\_AUX. Cutoff dates.dta", replace
file E:\Jorgec\ISEAK mw report 2022\00. Data processing\00. MCVL\dta\_AUX. Cutoff dates.dta
>  saved

. 
. * End of this dofile
. cap log close
